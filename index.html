<!DOCTYPE html>
<html>

<head>
      <title>Login</title>
      <link rel="stylesheet" href="style.css">
</head>

<body>
      <div class="main">
            <h1>Welcome to AppleGrapes Car Listing</h1>
            <h3>Enter your login credentials</h3>
            <form onsubmit="loginAction(event)">
                  <label for="username">Username:</label>
                  <input type="text" id="username" name="username" placeholder="Enter your Username" required>

                  <label for="password">Password:</label>
                  <input type="password" id="password" name="password" placeholder="Enter your Password" required>

                  <div class="inline-label-select">
                        <label for="user_profile">User profile:</label>
                        <select name="user_profile" id="user_profile">
                            <option value="" disabled selected>Please select user type</option>
                            <option value="buyer">Buyer</option>
                            <option value="seller">Seller</option>
                            <option value="agent">Agent</option>
                            <option value="admin">Admin</option>
                        </select>
                  </div>
                  
                  <div class="wrap">
                        <button type="submit">Login</button>
                  </div>
            </form>
      </div>

      <script>
          function loginAction(event) {
              event.preventDefault(); // Prevent default form submission
              
              // Get values from form
              const userID = document.getElementById('username').value;
              const password = document.getElementById('password').value;
              const user_profile = document.getElementById('user_profile').value;

              // Call the controller method (can replace with backend API) 
              if (validateLogin(userID, password, user_profile)) {
                  loginSuccess(user_profile);
              } else {
                  alert('Invalid login credentials');
              }
          }

          function validateLogin(userID, password, user_profile) {
              // call the backend to validate credentials
              //return true for now
              return true; // Replace with actual validation logic
          }

          function loginSuccess(profile) {
              // Handle successful login, like redirecting to another page
              alert('Login successful ' + profile);
          }
      </script>
</body>

</html>
